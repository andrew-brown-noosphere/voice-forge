#!/bin/bash\n\n# VoiceForge Celery Quick Start Guide\n# This script provides step-by-step instructions to get Celery working\n\necho \"üöÄ VoiceForge Celery Quick Start Guide\"\necho \"======================================\"\necho\necho \"This guide will help you set up distributed task processing with Celery.\"\necho\n\n# Color codes\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nRED='\\033[0;31m'\nNC='\\033[0m'\n\necho -e \"${BLUE}üìã Prerequisites:${NC}\"\necho \"1. Python virtual environment activated\"\necho \"2. Redis server installed and running\"\necho \"3. Required Python packages installed\"\necho\n\necho -e \"${YELLOW}üîß Step-by-step setup:${NC}\"\necho\n\necho -e \"${GREEN}Step 1: Install Redis${NC}\"\necho \"macOS:   brew install redis\"\necho \"Ubuntu:  sudo apt install redis-server\"\necho \"Docker:  docker run -d -p 6379:6379 --name redis redis:alpine\"\necho\n\necho -e \"${GREEN}Step 2: Start Redis${NC}\"\necho \"Run this script: ./start_redis.sh\"\necho \"Or manually:    redis-server\"\necho\n\necho -e \"${GREEN}Step 3: Test your setup${NC}\"\necho \"Run the test:   python test_celery.py\"\necho\n\necho -e \"${GREEN}Step 4: Start Celery worker${NC}\"\necho \"Run this script: ./start_worker.sh\"\necho \"Or manually:     celery -A celery_app worker --loglevel=info\"\necho\n\necho -e \"${GREEN}Step 5: Start your API server${NC}\"\necho \"In another terminal: uvicorn api.main:app --reload\"\necho\n\necho -e \"${GREEN}Step 6: Test everything together${NC}\"\necho \"Make a crawl request to see distributed processing in action!\"\necho\n\necho -e \"${BLUE}üõ†Ô∏è  Available scripts:${NC}\"\necho \"./setup_celery.sh  - Complete automated setup\"\necho \"./start_redis.sh   - Start Redis server\"\necho \"./start_worker.sh  - Start Celery worker\"\necho \"python test_celery.py - Test configuration\"\necho\n\necho -e \"${BLUE}üå∏ Optional - Flower monitoring:${NC}\"\necho \"celery -A celery_app flower\"\necho \"Then visit: http://localhost:5555\"\necho\n\necho -e \"${YELLOW}‚ùì Need help?${NC}\"\necho \"1. Check Redis: redis-cli ping\"\necho \"2. Check worker: celery -A celery_app inspect active\"\necho \"3. View logs: Check logs/ directory\"\necho \"4. Test config: python test_celery.py\"\necho\n\necho -e \"${GREEN}üéØ Quick test command:${NC}\"\necho \"python test_celery.py && echo 'Ready to start!' || echo 'Setup needed'\"\necho\n\n# Make scripts executable if they exist\nif [ -f \"setup_celery.sh\" ]; then\n    chmod +x setup_celery.sh\nfi\nif [ -f \"start_redis.sh\" ]; then\n    chmod +x start_redis.sh\nfi\nif [ -f \"start_worker.sh\" ]; then\n    chmod +x start_worker.sh\nfi\nif [ -f \"test_celery.py\" ]; then\n    chmod +x test_celery.py\nfi\n\necho -e \"${GREEN}‚úÖ Scripts are now executable!${NC}\"\necho\necho \"üëâ Start by running: python test_celery.py\""